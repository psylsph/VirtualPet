:root { --bg:#0f172a; --panel:#111827; --text:#e5e7eb; --muted:#94a3b8; --accent:#22c55e; --warn:#f59e0b; --danger:#ef4444; }

* { box-sizing: border-box; }
html, body, #root { height: 100%; margin: 0; }
body { background: var(--bg); color: var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji; }

.app {
  min-height: 100%;
  display: grid;
  grid-template-rows: auto 1fr auto;
}

.header, .footer { padding: 12px 16px; background: #0b1220; }
.header { display: flex; align-items: center; gap: 12px; }
.title { font-weight: 700; }

.scene {
  display: grid;
  place-items: center;
  padding: 16px;
}

.pet-card {
  width: min(560px, 100%);
  background: var(--panel);
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.4);
}

.pet-emoji { font-size: 72px; text-align: center; line-height: 1; }
.state { text-align: center; margin: 6px 0 12px; color: var(--muted); }

/* Animated pet styles */
.pet-emoji { position: relative; display: grid; place-items: center; width: fit-content; margin: 0 auto; }
.pet-emoji .pet-icon { display: inline-block; position: relative; }
.pet-emoji .pet-glyph { display: inline-block; }
.pet-emoji.awake .pet-icon { animation: pet-bounce 2.8s ease-in-out infinite; filter: drop-shadow(0 6px 8px rgba(0,0,0,.35)); }
.pet-emoji.drowsy .pet-icon { animation: pet-bob 3.6s ease-in-out infinite; opacity: .95; }
.pet-emoji.sleeping .pet-icon { animation: pet-breathe 4.4s ease-in-out infinite; opacity: .9; }
.pet-emoji.sleeping .pet-glyph { transform: rotate(-90deg); }
.pet-emoji .zzz { position: absolute; right: -6px; top: -6px; opacity: 0; font-size: 20px; pointer-events: none; }
.pet-emoji .zzz.sleep { animation: zzz-float 2.6s linear infinite; opacity: .9; }
.pet-emoji .zzz.drowsy { animation: zzz-float 4s linear infinite; opacity: .6; }

/* Action-specific effects */
.pet-emoji.action-play .pet-glyph { animation: pet-spin 1.1s linear 1; }
.pet-emoji.action-feed .pet-glyph { animation: pet-happy 0.8s ease-out 1; }
.pet-emoji.action-groom .pet-glyph { animation: pet-shimmer 0.8s ease-in-out 1; }
.pet-emoji.action-cuddle .pet-glyph { animation: pet-squish 0.8s ease-out 1; }

.pet-emoji .overlay { position: absolute; bottom: 2px; font-size: 20px; opacity: 0; pointer-events: none; }
.pet-emoji .overlay.feed { animation: overlay-pop 0.9s ease-out 1; }
.pet-emoji .overlay.groom { animation: overlay-pop-near 0.9s ease-out 1; left: -4px; }
.pet-emoji .overlay.cuddle { animation: overlay-pop-near 1s ease-out 1; right: -4px; }

@keyframes pet-bounce {
  0%, 100% { transform: translateY(0) scale(1); }
  20% { transform: translateY(-6px) scale(1.02); }
  40% { transform: translateY(0) scale(1); }
  60% { transform: translateY(-3px) scale(1.01); }
  80% { transform: translateY(0) scale(1); }
}

@keyframes pet-bob {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@keyframes pet-breathe {
  0%, 100% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-2px) scale(1.01); }
}

@keyframes zzz-float {
  0% { transform: translate(0, 0); opacity: 0; }
  10% { opacity: .4; }
  60% { opacity: .9; }
  100% { transform: translate(6px, -26px); opacity: 0; }
}

@keyframes pet-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes pet-happy {
  0% { transform: scale(1); }
  35% { transform: scale(1.12); }
  100% { transform: scale(1); }
}

@keyframes pet-squish {
  0% { transform: scale(1); }
  40% { transform: scaleX(1.08) scaleY(0.94); }
  100% { transform: scale(1); }
}

@keyframes pet-shimmer {
  0% { filter: brightness(1) saturate(1); }
  50% { filter: brightness(1.4) saturate(1.2); }
  100% { filter: brightness(1) saturate(1); }
}

@keyframes overlay-pop {
  0% { transform: translateY(10px) scale(0.9); opacity: 0; }
  20% { opacity: 1; }
  100% { transform: translateY(-24px) scale(1); opacity: 0; }
}

@keyframes overlay-pop-near {
  0% { transform: translateY(2px) scale(0.94); opacity: 0; }
  20% { opacity: 1; }
  100% { transform: translateY(-6px) scale(1); opacity: 0; }
}

/* compact header sound toggle */
.header .icon-btn {
  background: #111827;
  color: var(--text);
  border: 1px solid #374151;
  border-radius: 10px;
  padding: 6px 10px;
  font-weight: 600;
}

/* === Play scenes per pet === */
.pet-emoji .play-scene { position: absolute; inset: 0; pointer-events: none; }

/* Dog: chase a football left->right with hops */
.pet-emoji.action-play.dog .ball { position: absolute; left: -36px; bottom: 0; font-size: 20px; animation: ball-run 1.8s ease-out forwards; }
.pet-emoji.action-play.dog .pet-glyph { animation: chase-hop 0.45s ease-in-out infinite; }

/* Cat: chase yarn in a zigzag */
.pet-emoji.action-play.cat .ball { position: absolute; left: -36px; bottom: 2px; font-size: 20px; animation: yarn-zig 1.8s ease-in-out forwards; }
.pet-emoji.action-play.cat .pet-glyph { animation: chase-hop 0.36s ease-in-out infinite; }

/* Hamster: show spinning wheel behind pet */
.pet-emoji.action-play.hamster .wheel { position: absolute; inset: -8px; width: 90px; height: 90px; margin: auto; border: 4px solid #3f3f46; border-radius: 50%; animation: wheel-spin 0.6s linear infinite; z-index: -1; box-shadow: inset 0 0 0 2px #1f2937; }
.pet-emoji.action-play.hamster .spokes { position: absolute; left: 50%; top: 50%; width: 2px; height: 40px; background: #52525b; transform-origin: center -20px; animation: wheel-spokes 0.6s linear infinite; }
.pet-emoji.action-play.hamster .pet-glyph { animation: run-bob 0.28s ease-in-out infinite; }

/* Rabbit: butterflies flutter around */
.pet-emoji.action-play.rabbit .butterfly { position: absolute; left: -24px; bottom: 4px; font-size: 18px; animation: butterfly-fly 1.8s ease-in-out forwards; }
.pet-emoji.action-play.rabbit .butterfly.b2 { left: auto; right: -24px; animation-delay: 0.2s; }
.pet-emoji.action-play.rabbit .pet-glyph { animation: chase-hop 0.4s ease-in-out infinite; }

@keyframes ball-run {
  0% { transform: translate(0, 0) rotate(0deg); }
  25% { transform: translate(20px, -10px) rotate(120deg); }
  50% { transform: translate(44px, 0) rotate(240deg); }
  75% { transform: translate(68px, -8px) rotate(360deg); }
  100% { transform: translate(92px, 0) rotate(480deg); }
}

@keyframes yarn-zig {
  0% { transform: translate(0, 0) rotate(0deg); }
  20% { transform: translate(18px, -8px) rotate(80deg); }
  40% { transform: translate(36px, 2px) rotate(160deg); }
  60% { transform: translate(54px, -6px) rotate(240deg); }
  80% { transform: translate(72px, 4px) rotate(320deg); }
  100% { transform: translate(90px, 0) rotate(400deg); }
}

@keyframes wheel-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
@keyframes wheel-spokes {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes butterfly-fly {
  0% { transform: translate(0, 0) rotate(0deg) scale(1); }
  25% { transform: translate(16px, -18px) rotate(10deg) scale(1.05); }
  50% { transform: translate(36px, -8px) rotate(-8deg) scale(1.02); }
  75% { transform: translate(56px, -22px) rotate(12deg) scale(1.06); }
  100% { transform: translate(78px, -10px) rotate(0deg) scale(1.0); }
}

@keyframes chase-hop {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@keyframes run-bob {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-2px); }
}

.bars { display: grid; gap: 8px; margin: 12px 0 16px; }
.bar { display: grid; grid-template-columns: 120px 1fr; align-items: center; gap: 10px; }
.bar label { color: var(--muted); font-size: 14px; }
.fill {
  height: 10px; border-radius: 999px; background: #1f2937; overflow: hidden; position: relative;
}
.fill > span {
  display: block; height: 100%; background: var(--accent); width: 0%;
  transition: width .3s ease;
}

.actions { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; }
button {
  appearance: none; border: 0; border-radius: 12px; padding: 12px;
  background: #1f2937; color: var(--text); font-weight: 600; font-size: 16px;
}
button:disabled { opacity: .5; }

.banner {
  margin: 10px 0 14px;
  padding: 10px 12px; border-radius: 12px; background: #172554; color: #c7d2fe; font-size: 14px;
}
.banner.warn { background: #3b2a06; color: #fde68a; }
.banner.block { background: #2b0a0a; color: #fecaca; }

.footer { font-size: 12px; color: var(--muted); text-align: center; }

.sleep-overlay {
  margin-top: 12px; padding: 10px; border-radius: 12px;
  background: #0e1a2a; color: #93c5fd; text-align: center;
}

.qt-overlay {
  margin-top: 12px; padding: 12px; border-radius: 12px;
  background: #2b0a0a; color: #fecaca; text-align: center; font-weight: 600;
}

.note { font-size: 12px; color: var(--muted); text-align: center; margin-top: 6px; }

/* Style the pet selector */
.header select {
  margin-left: auto;
  background: #111827;
  color: var(--text);
  border: 1px solid #374151;
  border-radius: 10px;
  padding: 6px 10px;
  font-weight: 600;
}
